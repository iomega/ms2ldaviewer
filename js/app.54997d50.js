(function(t){function e(e){for(var n,o,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);p&&p(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function o(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"5b2b6346"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=n);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(t);var c=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=r[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",c.name="ChunkLoadError",c.type=n,c.request=s,a[1](c)}r[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/ms2ldaviewer/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var p=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},c867:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"lHh Lpr lFf"}},[a("q-header",{staticClass:"glossy",attrs:{elevated:""}},[a("q-toolbar",[a("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),a("q-toolbar-title",[t._v(" MS2LDA viewer ")])],1)],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-2"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-list",[a("q-item",{attrs:{clickable:"",exact:"",to:"/"}},[a("q-item-section",[a("q-item-label",[t._v("Summary")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/spectras"}},[a("q-item-section",[a("q-item-label",[t._v("Spectras")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/motifs"}},[a("q-item-section",[a("q-item-label",[t._v("Motifs")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/settings"}},[a("q-item-section",[a("q-item-label",[t._v("Settings")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/pick"}},[a("q-item-section",[a("q-item-label",[t._v("Pick a dataset")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/about"}},[a("q-item-section",[a("q-item-label",[t._v("About")])],1)],1)],1)],1),a("q-page-container",[a("router-view")],1)],1)},s=[],o={name:"LayoutDefault",data:function(){return{leftDrawerOpen:!1}}},i=o,l=a("2877"),c=a("fe09"),u=Object(l["a"])(i,r,s,!1,null,null,null),p=u.exports;u.options.components=Object.assign({QLayout:c["j"],QHeader:c["e"],QToolbar:c["o"],QBtn:c["a"],QToolbarTitle:c["p"],QDrawer:c["b"],QList:c["k"],QItem:c["g"],QItemSection:c["i"],QItemLabel:c["h"],QPageContainer:c["l"]},u.options.components||{});a("b0c0"),a("d3b7");var m=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("Summary",{attrs:{dataset:t.dataset}})],1)},f=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v("Summary of ms2LDA result dataset")]),a("Options",{attrs:{dataset:t.dataset}}),a("div",[a("router-link",{attrs:{to:"/spectras"}},[t._v(t._s(t.nrSpectras)+" spectras")])],1),a("div",[a("router-link",{attrs:{to:"/motifs"}},[t._v(t._s(t.nrMotifs)+" motifs")])],1)],1)},v=[],h=(a("b64b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h5",[t._v("Experiment options")]),a("ul",[a("li",[t._v(" K: "+t._s(t.dataset.K)+" ")])])])}),y=[],_=n["a"].extend({name:"ExperimentOptions",props:["dataset"]}),g=_,O=Object(l["a"])(g,h,y,!1,null,null,null),x=O.exports,j=n["a"].extend({name:"Summary",props:["dataset"],components:{Options:x},computed:{nrSpectras:function(){return Object.keys(this.dataset.corpus).length},nrMotifs:function(){return Object.keys(this.dataset.topic_metadata).length}}}),w=j,k=Object(l["a"])(w,b,v,!1,null,null,null),q=k.exports,S=(a("dca8"),a("96cf"),a("1da1")),P=a("2f62");function M(){return E.apply(this,arguments)}function E(){return E=Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",F("/ms2ldaviewer/examples/example.json"));case 1:case"end":return t.stop()}}),t)}))),E.apply(this,arguments)}function F(t){return $.apply(this,arguments)}function $(){return $=Object(S["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}var Q=function(t){var e=new FileReader;return new Promise((function(a,n){e.onerror=function(){e.abort(),n(new DOMException("Problem parsing input file."))},e.onload=function(){e.result?a(e.result):n(new DOMException("Problem parsing input file."))},e.readAsText(t)}))};function L(t){return C.apply(this,arguments)}function C(){return C=Object(S["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q(e);case 2:return a=t.sent,t.abrupt("return",JSON.parse(a));case 4:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}n["a"].use(P["a"]);var T={K:0,doc_metadata:{},corpus:{},phi:{},topic_metadata:{},beta:{},theta:{},overlap_scores:{},features:{}};Object.freeze(T);var R=new P["a"].Store({state:{loaded:!1,loading:!1,thresholds:{probability:.1,overlap:.2},dataset:T},mutations:{beforeLoad:function(t){t.loading=!0,t.loaded=!1},afterLoad:function(t,e){t.loading=!1,t.loaded=!0,Object.freeze(e),t.dataset=e}},actions:{loadExample:function(t){var e=t.commit;return Object(S["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("beforeLoad"),t.next=3,M();case 3:a=t.sent,e("afterLoad",a);case 5:case"end":return t.stop()}}),t)})))()},loadFromUrl:function(t,e){var a=t.commit;return Object(S["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a("beforeLoad"),t.next=3,F(e);case 3:n=t.sent,a("afterLoad",n);case 5:case"end":return t.stop()}}),t)})))()},loadFromFile:function(t,e){var a=t.commit;return Object(S["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a("beforeLoad"),t.next=3,L(e);case 3:n=t.sent,a("afterLoad",n);case 5:case"end":return t.stop()}}),t)})))()}}}),I={name:"home",components:{Summary:q},computed:{dataset:function(){return R.state.dataset}}},D=I,B=Object(l["a"])(D,d,f,!1,null,null,null),N=B.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("Start",{on:{"load-example":t.onLoadExample,"load-url":t.onLoadUrl,"load-file":t.onLoadFile}})],1)},U=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-btn",{attrs:{label:"Load example",flat:""},on:{click:function(e){return t.$emit("load-example")}}}),a("div",[t._v("Or")]),a("q-file",{attrs:{label:"Upload JSON document",accept:".json, application/json"},on:{input:t.loadFile}}),a("div",[t._v("Or")]),a("q-input",{attrs:{label:"Load from URL"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loadUrl(e)}},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)},H=[],K=n["a"].extend({name:"Start",data:function(){return{url:"",file:null}},methods:{loadUrl:function(){this.$emit("load-url",this.url)},loadFile:function(t){this.$emit("load-file",t)}}}),z=K,W=Object(l["a"])(z,J,H,!1,null,null,null),G=W.exports;W.options.components=Object.assign({QBtn:c["a"],QFile:c["c"],QInput:c["f"]},W.options.components||{});var V={name:"pick",components:{Start:G},methods:{onLoadExample:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R.dispatch("loadExample");case 2:Ae.push({name:"home"});case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),onLoadUrl:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R.dispatch("loadFromUrl",e);case 2:Ae.push({name:"home"});case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),onLoadFile:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R.dispatch("loadFromFile",e);case 2:Ae.push({name:"home"});case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}},X=V,Y=Object(l["a"])(X,A,U,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("List of spectras")]),a("q-table",{attrs:{data:t.data,columns:t.columns,dense:"",pagination:t.pagination},on:{"row-click":t.gotoSpectra,"update:pagination":function(e){t.pagination=e}}})],1)},et=[],at=(a("99af"),a("d81d"),a("4fad"),a("5530")),nt=a("3835"),rt=n["a"].extend({name:"spectras",data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"precursormass",field:"precursormass",sortable:!0,label:"Precursor Mass"},{name:"parentmass",field:"parentmass",sortable:!0,label:"Parent Mass"}],pagination:{sortBy:"name",rowsPerPage:25}}},computed:{data:function(){var t=R.state.dataset.doc_metadata;return Object.entries(t).map((function(t){var e=Object(nt["a"])(t,2),a=e[0],n=e[1];return Object(at["a"])({id:a},n,{name:"".concat(n.filename,":").concat(n.scans)})}))}},methods:{gotoSpectra:function(t,e){var a=e.id;Ae.push({name:"spectra",params:{id:a}})}}}),st=rt,ot=Object(l["a"])(st,tt,et,!1,null,null,null),it=ot.exports;ot.options.components=Object.assign({QTable:c["m"]},ot.options.components||{});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("Spectra: "+t._s(t.spectraid))]),a("SpectraMeta",{attrs:{meta:t.metadata}}),a("MotifsOfSpectra",{attrs:{spectraid:t.spectraid}}),a("FeaturesOfSpectra",{attrs:{features:t.features,phis:t.phis}})],1)},ct=[],ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("Features")]),a("q-table",{attrs:{data:t.data,columns:t.columns,dense:"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"feature",params:{name:e.value}}}},[t._v(t._s(e.value))])],1)]}},{key:"body-cell-motifs",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("ul",t._l(e.row.motifs,(function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:{name:"motif",params:{name:e.id}}}},[t._v(t._s(e.id))]),t._v(" ("+t._s(e.prob)+") ")],1)})),0)])]}}])})],1)},pt=[],mt=n["a"].extend({name:"FeaturesOfSpectra",props:["features","phis"],data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"intensity",field:"intensity",sortable:!0,label:"Intensity"},{name:"motifs",field:"motifs",label:"Mass2Motif (prob)"}],pagination:{sortBy:"name",rowsPerPage:25}}},computed:{data:function(){var t=this;return Object.entries(this.features).map((function(e){var a=Object(nt["a"])(e,2),n=a[0],r=a[1],s=Object.entries(t.phis[n]).map((function(t){var e=Object(nt["a"])(t,2),a=e[0],n=e[1];return{id:a,prob:n}}));return{name:n,intensity:r,motifs:s}}))}}}),dt=mt,ft=Object(l["a"])(dt,ut,pt,!1,null,null,null),bt=ft.exports;ft.options.components=Object.assign({QTable:c["m"],QTd:c["n"]},ft.options.components||{});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[t._v("Title: "+t._s(t.meta.title))]),a("li",[t._v("Filename: "+t._s(t.meta.filename))]),a("li",[t._v("MS level: "+t._s(t.meta.mslevel))]),a("li",[t._v("Scans: "+t._s(t.meta.scans))]),a("li",[t._v("Charge: "+t._s(t.meta.charge))]),a("li",[t._v("Precursor mass: "+t._s(t.meta.precursormass))]),a("li",[t._v("Parent mass: "+t._s(t.meta.parentmass))]),a("li",[t._v("Instrument: "+t._s(t.meta.instrument))]),a("li",[t._v("SMILES: "+t._s(t.meta.smiles))]),a("li",[t._v("INCHI key: "+t._s(t.meta.inchikey))])])},ht=[],yt=a("d4ec"),_t=a("99de"),gt=a("7e84"),Ot=a("262e"),xt=a("9ab4"),jt=a("60a3"),wt=function(t){function e(){return Object(yt["a"])(this,e),Object(_t["a"])(this,Object(gt["a"])(e).apply(this,arguments))}return Object(Ot["a"])(e,t),e}(jt["c"]);xt["a"]([Object(jt["b"])()],wt.prototype,"meta",void 0),wt=xt["a"]([jt["a"]],wt);var kt=wt,qt=kt,St=Object(l["a"])(qt,vt,ht,!1,null,null,null),Pt=St.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-mt-md"},[a("SpectraPlot",{attrs:{spectraid:t.spectraid,motifid:t.motifid}}),a("h5",[t._v("Associated motifs")]),a("q-table",{attrs:{data:t.data,"row-key":"name",columns:t.columns,dense:"",pagination:t.pagination,selection:"single",selected:t.selected},on:{"update:pagination":function(e){t.pagination=e},"update:selected":function(e){t.selected=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"motif",params:{name:e.value}}}},[t._v(t._s(e.value))])],1)]}}])})],1)},Et=[],Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{height:t.height,width:t.width,xmlns:"http://www.w3.org/2000/svg"}},[a("line",{staticClass:"parent",attrs:{x1:t.parent.x1,y1:t.parent.y1,x2:t.parent.x2,y2:t.parent.y2,stroke:t.parent.stroke,"stroke-width":2}},[a("title",[t._v(t._s(t.parent.name))])]),a("g",{staticClass:"fragments"},t._l(t.fragments,(function(e){return a("line",{key:e.x1,attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:e.stroke,"stroke-width":2}},[a("title",[t._v(t._s(e.name))])])})),0),a("g",{staticClass:"losses"},t._l(t.losses,(function(e){return a("line",{key:e.x1,attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:e.stroke,"stroke-dasharray":"4","stroke-width":2}},[a("title",[t._v(t._s(e.name))])])})),0),a("g")])},$t=[],Qt=(a("4de4"),a("07ac"),a("ac1f"),a("1276"),a("2ca0"),a("548a")),Lt=n["a"].extend({name:"SpectraPlot",props:["spectraid","motifid"],data:function(){return{width:700,height:300}},computed:{features:function(){var t=R.state.dataset.corpus[this.spectraid],e=R.state.dataset.doc_metadata[this.spectraid],a=Object.keys(t).filter((function(t){return t.startsWith("fragment_")})).map((function(e){var a=parseFloat(e.split("_")[1]);return{name:e,mass:a,intensity:t[e]}})),n=Object.keys(t).filter((function(t){return t.startsWith("loss_")})).map((function(e){var a=parseFloat(e.split("_")[1]);return{name:e,mass:a,intensity:t[e]}}));return{parent:{mass:e.parentmass,intensity:e.parentintensity||this.maxIntensity},fragments:a,losses:n}},maxIntensity:function(){var t=R.state.dataset.corpus[this.spectraid];return Object.values(t).sort((function(t,e){return e-t}))[0]},maxMass:function(){var t=this.features.parent.mass,e=R.state.dataset.corpus[this.spectraid],a=Object.keys(e).map((function(t){return parseFloat(t.split("_")[1])})).sort((function(t,e){return e-t}))[0];return t>a?t:a},xScale:function(){var t=[0,this.maxMass],e=[0,this.width];return Object(Qt["a"])().domain(t).range(e)},yScale:function(){var t=[0,this.maxIntensity],e=[this.height,0];return Object(Qt["a"])().domain(t).range(e)},parent:function(){var t="blue",e=this.xScale(this.features.parent.mass),a=this.yScale(0),n=this.yScale(this.features.parent.intensity);return{x1:e,y1:a,x2:e,y2:n,stroke:t,name:"Parent"}},fragments:function(){var t=this,e=this.motifid?R.state.dataset.beta[this.motifid]:{};return this.features.fragments.map((function(a){var n=e.hasOwnProperty(a.name)?"red":"black",r=t.xScale(a.mass),s=t.yScale(0),o=t.yScale(a.intensity);return{x1:r,y1:s,x2:r,y2:o,stroke:n,name:a.name}}))},losses:function(){var t=this,e=this.motifid?R.state.dataset.beta[this.motifid]:{};return this.features.losses.map((function(a){var n=e.hasOwnProperty(a.name)?"red":"black",r=t.xScale(t.features.parent.mass-a.mass),s=t.xScale(t.features.parent.mass),o=t.yScale(a.intensity);return{x1:r,y1:o,x2:s,y2:o,stroke:n,name:a.name}}))}}}),Ct=Lt,Tt=Object(l["a"])(Ct,Ft,$t,!1,null,null,null),Rt=Tt.exports,It=n["a"].extend({name:"MotifsOfSpectra",props:["spectraid"],components:{SpectraPlot:Rt},data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"prob",field:"prob",sortable:!0,label:"Probability"},{name:"overlap",field:"overlap",sortable:!0,label:"Overlap score"}],pagination:{sortBy:"prob",descending:!0,rowsPerPage:25},selected:[]}},computed:{data:function(){var t=R.state.dataset.theta[this.spectraid],e=R.state.dataset.overlap_scores[this.spectraid];return Object.entries(t).map((function(t){var a=Object(nt["a"])(t,2),n=a[0],r=a[1],s=e[n];return{name:n,prob:r,overlap:s}}))},motifid:function(){return this.selected.length?this.selected[0].name:""}}}),Dt=It,Bt=Object(l["a"])(Dt,Mt,Et,!1,null,null,null),Nt=Bt.exports;Bt.options.components=Object.assign({QTable:c["m"],QTd:c["n"]},Bt.options.components||{});var At=n["a"].extend({components:{FeaturesOfSpectra:bt,SpectraMeta:Pt,MotifsOfSpectra:Nt},computed:{spectraid:function(){return this.$route.params.id},features:function(){var t=this.$route.params.id,e=R.state.dataset.corpus[t];return e},phis:function(){var t=this.$route.params.id,e=R.state.dataset.phi[t];return e},metadata:function(){var t=this.$route.params.id;return R.state.dataset.doc_metadata[t]}}}),Ut=At,Jt=Object(l["a"])(Ut,lt,ct,!1,null,null,null),Ht=Jt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("List of motifs")]),a("q-table",{attrs:{data:t.data,columns:t.columns,dense:"",pagination:t.pagination},on:{"row-click":t.gotoMotif,"update:pagination":function(e){t.pagination=e}}})],1)},zt=[],Wt=n["a"].extend({name:"motifs",data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"type",label:"Type",field:"type"}],pagination:{sortBy:"name",rowsPerPage:25}}},computed:{data:function(){return Object.values(R.state.dataset.topic_metadata)}},methods:{gotoMotif:function(t,e){var a=e.name;Ae.push({name:"motif",params:{name:a}})}}}),Gt=Wt,Vt=Object(l["a"])(Gt,Kt,zt,!1,null,null,null),Xt=Vt.exports;Vt.options.components=Object.assign({QTable:c["m"]},Vt.options.components||{});var Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("Motif: "+t._s(t.id))]),a("span",[t._v("Type: "+t._s(t.meta.type))]),a("FeaturesOfMotif",{attrs:{motifid:t.id}}),a("SpectrasOfMotif",{attrs:{motifid:t.id}})],1)},Zt=[],te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("Features")]),t._v(" After thresholding to save the model, the total probability left in this motif is "+t._s(t.total)+". "),a("q-table",{attrs:{data:t.data,columns:t.columns,dense:"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"feature",params:{name:e.value}}}},[t._v(t._s(e.value))])],1)]}}])})],1)},ee=[],ae=(a("13d5"),n["a"].extend({name:"FeaturesOfMotif",props:["motifid"],data:function(){return{columns:[{name:"name",label:"Feature",sortable:!0,field:"name"},{name:"prob",field:"prob",sortable:!0,label:"Probability"}],pagination:{sortBy:"prob",descending:!0,rowsPerPage:25}}},computed:{data:function(){var t=R.state.dataset.beta[this.motifid];return Object.entries(t).map((function(t){var e=Object(nt["a"])(t,2),a=e[0],n=e[1];return{name:a,prob:n}}))},total:function(){var t=R.state.dataset.beta[this.motifid];return Object.values(t).reduce((function(t,e){return t+e}))}}})),ne=ae,re=Object(l["a"])(ne,te,ee,!1,null,null,null),se=re.exports;re.options.components=Object.assign({QTable:c["m"],QTd:c["n"]},re.options.components||{});var oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-mt-md"},[a("h5",[t._v("Spectras")]),a("q-table",{attrs:{data:t.data,"row-key":"name",columns:t.columns,dense:"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"spectra",params:{id:e.value}}}},[t._v(t._s(e.value))])],1)]}}])})],1)},ie=[],le=n["a"].extend({name:"SpectrasOfMotif",props:["motifid"],data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"prob",field:"prob",sortable:!0,label:"Probability"},{name:"overlap",field:"overlap",sortable:!0,label:"Overlap score"}],pagination:{sortBy:"prob",descending:!0,rowsPerPage:25},selected:[]}},computed:{data:function(){var t=this,e=R.state.dataset.overlap_scores;return Object.entries(R.state.dataset.theta).filter((function(e){var a=Object(nt["a"])(e,2),n=(a[0],a[1]);return n.hasOwnProperty(t.motifid)})).map((function(a){var n=Object(nt["a"])(a,2),r=n[0],s=n[1],o=e[r][t.motifid];return{name:r,prob:s[t.motifid],overlap:o}}))}}}),ce=le,ue=Object(l["a"])(ce,oe,ie,!1,null,null,null),pe=ue.exports;ue.options.components=Object.assign({QTable:c["m"],QTd:c["n"]},ue.options.components||{});var me=n["a"].extend({components:{FeaturesOfMotif:se,SpectrasOfMotif:pe},computed:{id:function(){return this.$route.params.name},meta:function(){var t=this.$route.params.name;return R.state.dataset.topic_metadata[t]},beta:function(){var t=this.$route.params.name;return Object.entries(R.state.dataset.beta[t]).map((function(t){var e=Object(nt["a"])(t,2),a=e[0],n=e[1];return{feature:a,prob:n}}))}}}),de=me,fe=Object(l["a"])(de,Yt,Zt,!1,null,null,null),be=fe.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"400px"}},[a("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[a("q-input",{attrs:{type:"number",label:"Proablility threshold",step:"0.01"},model:{value:t.probability,callback:function(e){t.probability=e},expression:"probability"}}),a("q-input",{attrs:{type:"number",label:"Overlap score threshold",step:"0.01"},model:{value:t.overlap,callback:function(e){t.overlap=e},expression:"overlap"}}),a("div",[a("q-btn",{attrs:{label:"Save",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)},he=[],ye=n["a"].extend({data:function(){return{probability:.1,overlap:.2}},methods:{onSubmit:function(){},onReset:function(){this.probability=.1,this.overlap=.2}}}),_e=ye,ge=Object(l["a"])(_e,ve,he,!1,null,null,null),Oe=ge.exports;ge.options.components=Object.assign({QForm:c["d"],QInput:c["f"],QBtn:c["a"]},ge.options.components||{});var xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("Feature: "+t._s(t.id))]),a("p",[t._v("Mass range: "+t._s(t.range[0])+" - "+t._s(t.range[1])+" ")]),a("SpectraOfFeature",{attrs:{featureid:t.id}}),a("MotifsOfFeature",{attrs:{featureid:t.id}})],1)},je=[],we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-mt-md"},[a("h6",[t._v("In spectra")]),a("p",[t._v("Total intensity in dataset: "+t._s(t.total))]),a("p",[t._v("Appears in "+t._s(t.count)+" spectra")]),a("q-table",{attrs:{data:t.spectra,"row-key":"name",columns:t.columns,dense:"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"spectra",params:{id:e.value}}}},[t._v(t._s(e.value))])],1)]}}])})],1)},ke=[],qe=(a("4160"),a("159b"),n["a"].extend({name:"SpectraOfFeature",props:["featureid"],data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"intensity",field:"intensity",sortable:!0,label:"Intensity"}],pagination:{sortBy:"intensity",descending:!0,rowsPerPage:25}}},computed:{spectra:function(){var t=this.featureid,e=R.state.dataset.corpus,a=[];return Object.entries(e).forEach((function(e){var n=Object(nt["a"])(e,2),r=n[0],s=n[1],o=s[t];o&&a.push({name:r,intensity:o})})),a},total:function(){var t=this.spectra;return t.map((function(t){return t.intensity})).reduce((function(t,e){return t+e}))},count:function(){var t=this.spectra;return t.length}}})),Se=qe,Pe=Object(l["a"])(Se,we,ke,!1,null,null,null),Me=Pe.exports;Pe.options.components=Object.assign({QTable:c["m"],QTd:c["n"]},Pe.options.components||{});var Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-mt-md"},[a("h6",[t._v("In motifs")]),a("q-table",{attrs:{data:t.motifs,"row-key":"name",columns:t.columns,dense:"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"motif",params:{name:e.value}}}},[t._v(t._s(e.value))])],1)]}}])})],1)},Fe=[],$e=n["a"].extend({name:"MotifsOfFeature",props:["featureid"],data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"prob",field:"prob",sortable:!0,label:"Probability"}],pagination:{sortBy:"prob",descending:!0,rowsPerPage:25}}},computed:{motifs:function(){var t=this.featureid,e=R.state.dataset.beta,a=[];return Object.entries(e).forEach((function(e){var n=Object(nt["a"])(e,2),r=n[0],s=n[1],o=s[t];o&&a.push({name:r,prob:o})})),a}}}),Qe=$e,Le=Object(l["a"])(Qe,Ee,Fe,!1,null,null,null),Ce=Le.exports;Le.options.components=Object.assign({QTable:c["m"],QTd:c["n"]},Le.options.components||{});var Te=n["a"].extend({components:{SpectraOfFeature:Me,MotifsOfFeature:Ce},computed:{id:function(){return this.$route.params.name},range:function(){var t=this.$route.params.name;return R.state.dataset.features[t]}}}),Re=Te,Ie=Object(l["a"])(Re,xe,je,!1,null,null,null),De=Ie.exports;n["a"].use(m["a"]);var Be=[{path:"/",name:"home",component:N},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/pick",name:"pick",component:Z},{path:"/spectras",name:"spectras",component:it},{path:"/spectras/:id",name:"spectra",component:Ht},{path:"/motifs",name:"motifs",component:Xt},{path:"/motifs/:name",name:"motif",component:be},{path:"/features/:name",name:"feature",component:De},{path:"/settings",name:"settings",component:Oe}],Ne=new m["a"]({mode:"history",base:"/ms2ldaviewer/",routes:Be});Ne.beforeEach((function(t,e,a){R.state.loaded||"pick"===t.name||"about"===t.name||"settings"===t.name?a():a("pick")}));var Ae=Ne,Ue=(a("c867"),a("7d6e"),a("e54f"),a("b05d"));n["a"].use(Ue["a"],{config:{},components:{},directives:{},plugins:{}}),n["a"].config.productionTip=!1,n["a"].use(P["a"]),new n["a"]({router:Ae,render:function(t){return t(p)}}).$mount("#app")}});
//# sourceMappingURL=app.54997d50.js.map