(function(e){function t(t){for(var a,s,i=t[0],c=t[1],l=t[2],u=0,m=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);p&&p(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function s(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"9571c5f7"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(e);var l=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/ms2ldaviewer/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},c867:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"lHh Lpr lFf"}},[n("q-header",{staticClass:"glossy",attrs:{elevated:""}},[n("q-toolbar",[n("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),n("q-toolbar-title",[e._v(" MS2LDA viewer ")])],1)],1),n("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-2"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[n("q-list",[n("q-item",{attrs:{clickable:"",exact:"",to:"/"}},[n("q-item-section",[n("q-item-label",[e._v("Summary")])],1)],1),n("q-item",{attrs:{clickable:"",to:"/spectras"}},[n("q-item-section",[n("q-item-label",[e._v("Spectras")])],1)],1),n("q-item",{attrs:{clickable:"",to:"/motifs"}},[n("q-item-section",[n("q-item-label",[e._v("Motifs")])],1)],1),n("q-item",{attrs:{clickable:"",to:"/settings"}},[n("q-item-section",[n("q-item-label",[e._v("Settings")])],1)],1),n("q-item",{attrs:{clickable:"",to:"/pick"}},[n("q-item-section",[n("q-item-label",[e._v("Pick a dataset")])],1)],1),n("q-item",{attrs:{clickable:"",to:"/about"}},[n("q-item-section",[n("q-item-label",[e._v("About")])],1)],1)],1)],1),n("q-page-container",[n("router-view")],1)],1)},o=[],s={name:"LayoutDefault",data:function(){return{leftDrawerOpen:!1}}},i=s,c=n("2877"),l=n("fe09"),u=Object(c["a"])(i,r,o,!1,null,null,null),p=u.exports;u.options.components=Object.assign({QLayout:l["i"],QHeader:l["d"],QToolbar:l["n"],QBtn:l["a"],QToolbarTitle:l["o"],QDrawer:l["b"],QList:l["j"],QItem:l["f"],QItemSection:l["h"],QItemLabel:l["g"],QPageContainer:l["k"]},u.options.components||{});n("b0c0"),n("d3b7");var m=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("Summary",{attrs:{dataset:e.dataset}})],1)},f=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[e._v("Summary of ms2LDA result dataset")]),n("Options",{attrs:{dataset:e.dataset}}),n("div",[n("router-link",{attrs:{to:"/spectras"}},[e._v(e._s(e.nrSpectras)+" spectras")])],1),n("div",[n("router-link",{attrs:{to:"/motifs"}},[e._v(e._s(e.nrMotifs)+" motifs")])],1)],1)},v=[],h=(n("b64b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h5",[e._v("Experiment options")]),n("ul",[n("li",[e._v(" K: "+e._s(e.dataset.K)+" ")])])])}),y=[],g=a["a"].extend({name:"ExperimentOptions",props:["dataset"]}),O=g,_=Object(c["a"])(O,h,y,!1,null,null,null),w=_.exports,j=a["a"].extend({name:"Summary",props:["dataset"],components:{Options:w},computed:{nrSpectras:function(){return Object.keys(this.dataset.corpus).length},nrMotifs:function(){return Object.keys(this.dataset.topic_metadata).length}}}),x=j,q=Object(c["a"])(x,b,v,!1,null,null,null),k=q.exports,S=(n("dca8"),n("96cf"),n("1da1")),P=n("2f62");function E(){return L.apply(this,arguments)}function L(){return L=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("/ms2ldaviewer/examples/example.json"));case 1:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function Q(e){return $.apply(this,arguments)}function $(){return $=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}a["a"].use(P["a"]);var R={K:0,doc_metadata:{},corpus:{},phi:{},topic_metadata:{}};Object.freeze(R);var C=new P["a"].Store({state:{loaded:!1,loading:!1,thresholds:{probability:.1,overlap:.2},dataset:R},mutations:{beforeLoad:function(e){e.loading=!0,e.loaded=!1},afterLoad:function(e,t){e.loading=!1,e.loaded=!0,Object.freeze(t),e.dataset=t}},actions:{loadExample:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("beforeLoad"),e.next=4,E();case 4:a=e.sent,n("afterLoad",a);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),loadFromUrl:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,a("beforeLoad"),e.next=4,Q(n);case 4:r=e.sent,a("afterLoad",r);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}}),M={name:"home",components:{Summary:k},computed:{dataset:function(){return C.state.dataset}}},D=M,T=Object(c["a"])(D,d,f,!1,null,null,null),F=T.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("Start",{on:{"load-example":e.onLoadExample,"load-url":e.onLoadUrl}})],1)},I=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:function(t){return e.$emit("load-example")}}},[e._v("Load example")]),n("div",[e._v("Or")]),n("button",{attrs:{disabled:""}},[e._v("Upload JSON document")]),n("div",[e._v("Or")]),n("q-input",{attrs:{label:"Load from URL"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadUrl(t)}},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)},A=[],N=a["a"].extend({name:"Start",data:function(){return{url:""}},methods:{loadUrl:function(){this.$emit("load-url",this.url)}}}),J=N,K=Object(c["a"])(J,B,A,!1,null,null,null),z=K.exports;K.options.components=Object.assign({QInput:l["e"]},K.options.components||{});var H={name:"pick",components:{Start:z},methods:{onLoadExample:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C.dispatch("loadExample");case 2:Fe.push({name:"home"});case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),onLoadUrl:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C.dispatch("loadFromUrl",t);case 2:Fe.push({name:"home"});case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},G=H,V=Object(c["a"])(G,U,I,!1,null,null,null),W=V.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("h5",[e._v("List of spectras")]),n("q-table",{attrs:{data:e.data,columns:e.columns,dense:"",pagination:e.pagination},on:{"row-click":e.gotoSpectra,"update:pagination":function(t){e.pagination=t}}})],1)},Y=[],Z=(n("a4d3"),n("4de4"),n("4160"),n("d81d"),n("4fad"),n("e439"),n("dbb4"),n("159b"),n("ade3")),ee=n("3835");function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(Z["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=a["a"].extend({name:"spectras",data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"filename"},{name:"precursormass",field:"precursormass",sortable:!0,label:"Precursor Mass"},{name:"parentmass",field:"parentmass",sortable:!0,label:"Parent Mass"}],pagination:{sortBy:"name",rowsPerPage:25}}},computed:{data:function(){var e=C.state.dataset.doc_metadata;return Object.entries(e).map((function(e){var t=Object(ee["a"])(e,2),n=t[0],a=t[1];return ne({id:n},a)}))}},methods:{gotoSpectra:function(e,t){var n=t.id;Fe.push({name:"spectra",params:{id:n}})}}}),re=ae,oe=Object(c["a"])(re,X,Y,!1,null,null,null),se=oe.exports;oe.options.components=Object.assign({QTable:l["l"]},oe.options.components||{});var ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("h5",[e._v("Spectra: "+e._s(e.id))]),n("Features",{attrs:{features:e.features,phis:e.phis}})],1)},ce=[],le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("h5",[e._v("Features")]),n("q-table",{attrs:{data:e.data,columns:e.columns,dense:"",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body-cell-motifs",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("ul",e._l(t.row.motifs,(function(t){return n("li",{key:t.id},[e._v(" "+e._s(t.id)+" ("+e._s(t.prob)+") ")])})),0)])]}}])})],1)},ue=[],pe=a["a"].extend({name:"Features",props:["features","phis"],data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"intensity",field:"intensity",sortable:!0,label:"Intensity"},{name:"motifs",field:"motifs",label:"Mass2Motif (prob)"}],pagination:{sortBy:"intensity",descending:!0,rowsPerPage:25}}},computed:{data:function(){var e=this;return Object.entries(this.features).map((function(t){var n=Object(ee["a"])(t,2),a=n[0],r=n[1],o=Object.entries(e.phis[a]).map((function(e){var t=Object(ee["a"])(e,2),n=t[0],a=t[1];return{id:n,prob:a}}));return{name:a,intensity:r,motifs:o}}))}}}),me=pe,de=Object(c["a"])(me,le,ue,!1,null,null,null),fe=de.exports;de.options.components=Object.assign({QTable:l["l"],QTd:l["m"]},de.options.components||{});var be=a["a"].extend({components:{Features:fe},computed:{id:function(){return this.$route.params.id},features:function(){var e=this.$route.params.id,t=C.state.dataset.corpus[e];return t},phis:function(){var e=C.state.dataset.phi[this.$route.params.id];return e}}}),ve=be,he=Object(c["a"])(ve,ie,ce,!1,null,null,null),ye=he.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("h5",[e._v("List of motifs")]),n("q-table",{attrs:{data:e.data,columns:e.columns,dense:"",pagination:e.pagination},on:{"row-click":e.gotoMotif,"update:pagination":function(t){e.pagination=t}}})],1)},Oe=[],_e=(n("07ac"),a["a"].extend({name:"motifs",data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"type",label:"Type",field:"type"}],pagination:{sortBy:"name",rowsPerPage:25}}},computed:{data:function(){return Object.values(C.state.dataset.topic_metadata)}},methods:{gotoMotif:function(e,t){var n=t.name;Fe.push({name:"motif",params:{name:n}})}}})),we=_e,je=Object(c["a"])(we,ge,Oe,!1,null,null,null),xe=je.exports;je.options.components=Object.assign({QTable:l["l"]},je.options.components||{});var qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("h5",[e._v(e._s(e.$route.params.name))])])},ke=[],Se={},Pe=Object(c["a"])(Se,qe,ke,!1,null,null,null),Ee=Pe.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"400px"}},[n("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},[n("q-input",{attrs:{type:"number",label:"Proablility threshold",step:"0.01"},model:{value:e.probability,callback:function(t){e.probability=t},expression:"probability"}}),n("q-input",{attrs:{type:"number",label:"Overlap score threshold",step:"0.01"},model:{value:e.overlap,callback:function(t){e.overlap=t},expression:"overlap"}}),n("div",[n("q-btn",{attrs:{label:"Save",type:"submit",color:"primary"}}),n("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)},Qe=[],$e=a["a"].extend({data:function(){return{probability:.1,overlap:.2}},methods:{onSubmit:function(){},onReset:function(){this.probability=.1,this.overlap=.2}}}),Re=$e,Ce=Object(c["a"])(Re,Le,Qe,!1,null,null,null),Me=Ce.exports;Ce.options.components=Object.assign({QForm:l["c"],QInput:l["e"],QBtn:l["a"]},Ce.options.components||{}),a["a"].use(m["a"]);var De=[{path:"/",name:"home",component:F},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/pick",name:"pick",component:W},{path:"/spectras",name:"spectras",component:se},{path:"/spectras/:id",name:"spectra",component:ye},{path:"/motifs",name:"motifs",component:xe},{path:"/motifs/:name",name:"motif",component:Ee},{path:"/settings",name:"settings",component:Me}],Te=new m["a"]({mode:"history",base:"/ms2ldaviewer/",routes:De});Te.beforeEach((function(e,t,n){C.state.loaded?n():"pick"===e.name||"about"===e.name||"settings"===e.name?n():n("pick")}));var Fe=Te,Ue=(n("c867"),n("7d6e"),n("e54f"),n("b05d"));a["a"].use(Ue["a"],{config:{},components:{},directives:{},plugins:{}}),a["a"].config.productionTip=!1,a["a"].use(P["a"]),new a["a"]({router:Fe,render:function(e){return e(p)}}).$mount("#app")}});
//# sourceMappingURL=app.144d71dd.js.map