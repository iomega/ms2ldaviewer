(function(t){function e(e){for(var n,o,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);p&&p(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function o(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"86517490"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=n);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(t);var c=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=r[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",c.name="ChunkLoadError",c.type=n,c.request=s,a[1](c)}r[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/ms2ldaviewer/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var p=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},c867:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"lHh Lpr lFf"}},[a("q-header",{staticClass:"glossy",attrs:{elevated:""}},[a("q-toolbar",[a("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),a("q-toolbar-title",[t._v(" MS2LDA viewer ")])],1)],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-2"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-list",[a("q-item",{attrs:{clickable:"",exact:"",to:"/"}},[a("q-item-section",[a("q-item-label",[t._v("Summary")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/spectras"}},[a("q-item-section",[a("q-item-label",[t._v("Spectras")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/motifs"}},[a("q-item-section",[a("q-item-label",[t._v("Motifs")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/settings"}},[a("q-item-section",[a("q-item-label",[t._v("Settings")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/pick"}},[a("q-item-section",[a("q-item-label",[t._v("Pick a dataset")])],1)],1),a("q-item",{attrs:{clickable:"",to:"/about"}},[a("q-item-section",[a("q-item-label",[t._v("About")])],1)],1)],1)],1),a("q-page-container",[a("router-view")],1)],1)},s=[],o={name:"LayoutDefault",data:function(){return{leftDrawerOpen:!1}}},i=o,l=a("2877"),c=a("fe09"),u=Object(l["a"])(i,r,s,!1,null,null,null),p=u.exports;u.options.components=Object.assign({QLayout:c["i"],QHeader:c["d"],QToolbar:c["n"],QBtn:c["a"],QToolbarTitle:c["o"],QDrawer:c["b"],QList:c["j"],QItem:c["f"],QItemSection:c["h"],QItemLabel:c["g"],QPageContainer:c["k"]},u.options.components||{});a("b0c0"),a("d3b7");var m=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("Summary",{attrs:{dataset:t.dataset}})],1)},f=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v("Summary of ms2LDA result dataset")]),a("Options",{attrs:{dataset:t.dataset}}),a("div",[a("router-link",{attrs:{to:"/spectras"}},[t._v(t._s(t.nrSpectras)+" spectras")])],1),a("div",[a("router-link",{attrs:{to:"/motifs"}},[t._v(t._s(t.nrMotifs)+" motifs")])],1)],1)},v=[],h=(a("b64b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h5",[t._v("Experiment options")]),a("ul",[a("li",[t._v(" K: "+t._s(t.dataset.K)+" ")])])])}),y=[],_=n["a"].extend({name:"ExperimentOptions",props:["dataset"]}),g=_,O=Object(l["a"])(g,h,y,!1,null,null,null),x=O.exports,j=n["a"].extend({name:"Summary",props:["dataset"],components:{Options:x},computed:{nrSpectras:function(){return Object.keys(this.dataset.corpus).length},nrMotifs:function(){return Object.keys(this.dataset.topic_metadata).length}}}),w=j,k=Object(l["a"])(w,b,v,!1,null,null,null),S=k.exports,q=(a("dca8"),a("96cf"),a("1da1")),P=a("2f62");function E(){return M.apply(this,arguments)}function M(){return M=Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",$("/ms2ldaviewer/examples/example.json"));case 1:case"end":return t.stop()}}),t)}))),M.apply(this,arguments)}function $(t){return L.apply(this,arguments)}function L(){return L=Object(q["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 7:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}n["a"].use(P["a"]);var Q={K:0,doc_metadata:{},corpus:{},phi:{},topic_metadata:{},beta:{},theta:{},overlap_scores:{}};Object.freeze(Q);var C=new P["a"].Store({state:{loaded:!1,loading:!1,thresholds:{probability:.1,overlap:.2},dataset:Q},mutations:{beforeLoad:function(t){t.loading=!0,t.loaded=!1},afterLoad:function(t,e){t.loading=!1,t.loaded=!0,Object.freeze(e),t.dataset=e}},actions:{loadExample:function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,a("beforeLoad"),t.next=4,E();case 4:n=t.sent,a("afterLoad",n);case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),loadFromUrl:function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("beforeLoad"),t.next=4,$(a);case 4:r=t.sent,n("afterLoad",r);case 6:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()}}),T={name:"home",components:{Summary:S},computed:{dataset:function(){return C.state.dataset}}},F=T,R=Object(l["a"])(F,d,f,!1,null,null,null),D=R.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("Start",{on:{"load-example":t.onLoadExample,"load-url":t.onLoadUrl}})],1)},B=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{on:{click:function(e){return t.$emit("load-example")}}},[t._v("Load example")]),a("div",[t._v("Or")]),a("button",{attrs:{disabled:""}},[t._v("Upload JSON document")]),a("div",[t._v("Or")]),a("q-input",{attrs:{label:"Load from URL"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loadUrl(e)}},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)},N=[],A=n["a"].extend({name:"Start",data:function(){return{url:""}},methods:{loadUrl:function(){this.$emit("load-url",this.url)}}}),H=A,J=Object(l["a"])(H,U,N,!1,null,null,null),K=J.exports;J.options.components=Object.assign({QInput:c["e"]},J.options.components||{});var z={name:"pick",components:{Start:K},methods:{onLoadExample:function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.dispatch("loadExample");case 2:Pe.push({name:"home"});case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),onLoadUrl:function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.dispatch("loadFromUrl",e);case 2:Pe.push({name:"home"});case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}},W=z,G=Object(l["a"])(W,I,B,!1,null,null,null),V=G.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("List of spectras")]),a("q-table",{attrs:{data:t.data,columns:t.columns,dense:"",pagination:t.pagination},on:{"row-click":t.gotoSpectra,"update:pagination":function(e){t.pagination=e}}})],1)},Y=[],Z=(a("a4d3"),a("99af"),a("4de4"),a("4160"),a("d81d"),a("4fad"),a("e439"),a("dbb4"),a("159b"),a("ade3")),tt=a("3835");function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function at(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(Object(a),!0).forEach((function(e){Object(Z["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var nt=n["a"].extend({name:"spectras",data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"precursormass",field:"precursormass",sortable:!0,label:"Precursor Mass"},{name:"parentmass",field:"parentmass",sortable:!0,label:"Parent Mass"}],pagination:{sortBy:"name",rowsPerPage:25}}},computed:{data:function(){var t=C.state.dataset.doc_metadata;return Object.entries(t).map((function(t){var e=Object(tt["a"])(t,2),a=e[0],n=e[1];return at({id:a},n,{name:"".concat(n.filename,":").concat(n.scans)})}))}},methods:{gotoSpectra:function(t,e){var a=e.id;Pe.push({name:"spectra",params:{id:a}})}}}),rt=nt,st=Object(l["a"])(rt,X,Y,!1,null,null,null),ot=st.exports;st.options.components=Object.assign({QTable:c["l"]},st.options.components||{});var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("Spectra: "+t._s(t.spectraid))]),a("SpectraMeta",{attrs:{meta:t.metadata}}),a("MotifsOfSpectra",{attrs:{spectraid:t.spectraid}}),a("FeaturesOfSpectra",{attrs:{features:t.features,phis:t.phis}})],1)},lt=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("Features")]),a("q-table",{attrs:{data:t.data,columns:t.columns,dense:"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"feature",params:{name:e.value}}}},[t._v(t._s(e.value))])],1)]}},{key:"body-cell-motifs",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("ul",t._l(e.row.motifs,(function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:{name:"motif",params:{name:e.id}}}},[t._v(t._s(e.id))]),t._v(" ("+t._s(e.prob)+") ")],1)})),0)])]}}])})],1)},ut=[],pt=n["a"].extend({name:"FeaturesOfSpectra",props:["features","phis"],data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"intensity",field:"intensity",sortable:!0,label:"Intensity"},{name:"motifs",field:"motifs",label:"Mass2Motif (prob)"}],pagination:{sortBy:"name",rowsPerPage:25}}},computed:{data:function(){var t=this;return Object.entries(this.features).map((function(e){var a=Object(tt["a"])(e,2),n=a[0],r=a[1],s=Object.entries(t.phis[n]).map((function(t){var e=Object(tt["a"])(t,2),a=e[0],n=e[1];return{id:a,prob:n}}));return{name:n,intensity:r,motifs:s}}))}}}),mt=pt,dt=Object(l["a"])(mt,ct,ut,!1,null,null,null),ft=dt.exports;dt.options.components=Object.assign({QTable:c["l"],QTd:c["m"]},dt.options.components||{});var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[t._v("Title: "+t._s(t.meta.title))]),a("li",[t._v("Filename: "+t._s(t.meta.filename))]),a("li",[t._v("MS level: "+t._s(t.meta.mslevel))]),a("li",[t._v("Scans: "+t._s(t.meta.scans))]),a("li",[t._v("Charge: "+t._s(t.meta.charge))]),a("li",[t._v("Precursor mass: "+t._s(t.meta.precursormass))]),a("li",[t._v("Parent mass: "+t._s(t.meta.parentmass))]),a("li",[t._v("Instrument: "+t._s(t.meta.instrument))]),a("li",[t._v("SMILES: "+t._s(t.meta.smiles))]),a("li",[t._v("INCHI key: "+t._s(t.meta.inchikey))])])},vt=[],ht=a("d4ec"),yt=a("99de"),_t=a("7e84"),gt=a("262e"),Ot=a("9ab4"),xt=a("60a3"),jt=function(t){function e(){return Object(ht["a"])(this,e),Object(yt["a"])(this,Object(_t["a"])(e).apply(this,arguments))}return Object(gt["a"])(e,t),e}(xt["c"]);Ot["a"]([Object(xt["b"])()],jt.prototype,"meta",void 0),jt=Ot["a"]([xt["a"]],jt);var wt=jt,kt=wt,St=Object(l["a"])(kt,bt,vt,!1,null,null,null),qt=St.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-mt-md"},[a("SpectraPlot",{attrs:{spectraid:t.spectraid,motifid:t.motifid}}),a("h5",[t._v("Associated motifs")]),a("q-table",{attrs:{data:t.data,"row-key":"name",columns:t.columns,dense:"",pagination:t.pagination,selection:"single",selected:t.selected},on:{"update:pagination":function(e){t.pagination=e},"update:selected":function(e){t.selected=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"motif",params:{name:e.value}}}},[t._v(t._s(e.value))])],1)]}}])})],1)},Et=[],Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{height:t.height,width:t.width,xmlns:"http://www.w3.org/2000/svg"}},[a("line",{staticClass:"parent",attrs:{x1:t.parent.x1,y1:t.parent.y1,x2:t.parent.x2,y2:t.parent.y2,stroke:t.parent.stroke,"stroke-width":2}},[a("title",[t._v(t._s(t.parent.name))])]),a("g",{staticClass:"fragments"},t._l(t.fragments,(function(e){return a("line",{key:e.x1,attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:e.stroke,"stroke-width":2}},[a("title",[t._v(t._s(e.name))])])})),0),a("g",{staticClass:"losses"},t._l(t.losses,(function(e){return a("line",{key:e.x1,attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:e.stroke,"stroke-dasharray":"4","stroke-width":2}},[a("title",[t._v(t._s(e.name))])])})),0),a("g")])},$t=[],Lt=(a("4e82"),a("07ac"),a("acd8"),a("ac1f"),a("1276"),a("2ca0"),a("548a")),Qt=n["a"].extend({name:"SpectraPlot",props:["spectraid","motifid"],data:function(){return{width:700,height:300}},computed:{features:function(){var t=C.state.dataset.corpus[this.spectraid],e=C.state.dataset.doc_metadata[this.spectraid],a=Object.keys(t).filter((function(t){return t.startsWith("fragment_")})).map((function(e){var a=parseFloat(e.split("_")[1]);return{name:e,mass:a,intensity:t[e]}})),n=Object.keys(t).filter((function(t){return t.startsWith("loss_")})).map((function(e){var a=parseFloat(e.split("_")[1]);return{name:e,mass:a,intensity:t[e]}}));return{parent:{mass:e.parentmass,intensity:e.parentintensity||this.maxIntensity},fragments:a,losses:n}},maxIntensity:function(){var t=C.state.dataset.corpus[this.spectraid];return Object.values(t).sort((function(t,e){return e-t}))[0]},maxMass:function(){var t=this.features.parent.mass,e=C.state.dataset.corpus[this.spectraid],a=Object.keys(e).map((function(t){return parseFloat(t.split("_")[1])})).sort((function(t,e){return e-t}))[0];return t>a?t:a},xScale:function(){var t=[0,this.maxMass],e=[0,this.width];return Object(Lt["a"])().domain(t).range(e)},yScale:function(){var t=[0,this.maxIntensity],e=[this.height,0];return Object(Lt["a"])().domain(t).range(e)},parent:function(){var t="blue",e=this.xScale(this.features.parent.mass),a=this.yScale(0),n=this.yScale(this.features.parent.intensity);return{x1:e,y1:a,x2:e,y2:n,stroke:t,name:"Parent"}},fragments:function(){var t=this,e=this.motifid?C.state.dataset.beta[this.motifid]:{};return this.features.fragments.map((function(a){var n=e.hasOwnProperty(a.name)?"red":"black",r=t.xScale(a.mass),s=t.yScale(0),o=t.yScale(a.intensity);return{x1:r,y1:s,x2:r,y2:o,stroke:n,name:a.name}}))},losses:function(){var t=this,e=this.motifid?C.state.dataset.beta[this.motifid]:{};return this.features.losses.map((function(a){var n=e.hasOwnProperty(a.name)?"red":"black",r=t.xScale(t.features.parent.mass-a.mass),s=t.xScale(t.features.parent.mass),o=t.yScale(a.intensity);return{x1:r,y1:o,x2:s,y2:o,stroke:n,name:a.name}}))}}}),Ct=Qt,Tt=Object(l["a"])(Ct,Mt,$t,!1,null,null,null),Ft=Tt.exports,Rt=n["a"].extend({name:"MotifsOfSpectra",props:["spectraid"],components:{SpectraPlot:Ft},data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"prob",field:"prob",sortable:!0,label:"Probability"},{name:"overlap",field:"overlap",sortable:!0,label:"Overlap score"}],pagination:{sortBy:"prob",descending:!0,rowsPerPage:25},selected:[]}},computed:{data:function(){var t=C.state.dataset.theta[this.spectraid],e=C.state.dataset.overlap_scores[this.spectraid];return Object.entries(t).map((function(t){var a=Object(tt["a"])(t,2),n=a[0],r=a[1],s=e[n];return{name:n,prob:r,overlap:s}}))},motifid:function(){return this.selected.length?this.selected[0].name:""}}}),Dt=Rt,It=Object(l["a"])(Dt,Pt,Et,!1,null,null,null),Bt=It.exports;It.options.components=Object.assign({QTable:c["l"],QTd:c["m"]},It.options.components||{});var Ut=n["a"].extend({components:{FeaturesOfSpectra:ft,SpectraMeta:qt,MotifsOfSpectra:Bt},computed:{spectraid:function(){return this.$route.params.id},features:function(){var t=this.$route.params.id,e=C.state.dataset.corpus[t];return e},phis:function(){var t=this.$route.params.id,e=C.state.dataset.phi[t];return e},metadata:function(){var t=this.$route.params.id;return C.state.dataset.doc_metadata[t]}}}),Nt=Ut,At=Object(l["a"])(Nt,it,lt,!1,null,null,null),Ht=At.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("List of motifs")]),a("q-table",{attrs:{data:t.data,columns:t.columns,dense:"",pagination:t.pagination},on:{"row-click":t.gotoMotif,"update:pagination":function(e){t.pagination=e}}})],1)},Kt=[],zt=n["a"].extend({name:"motifs",data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"type",label:"Type",field:"type"}],pagination:{sortBy:"name",rowsPerPage:25}}},computed:{data:function(){return Object.values(C.state.dataset.topic_metadata)}},methods:{gotoMotif:function(t,e){var a=e.name;Pe.push({name:"motif",params:{name:a}})}}}),Wt=zt,Gt=Object(l["a"])(Wt,Jt,Kt,!1,null,null,null),Vt=Gt.exports;Gt.options.components=Object.assign({QTable:c["l"]},Gt.options.components||{});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("Motif: "+t._s(t.id))]),a("span",[t._v("Type: "+t._s(t.meta.type))]),a("FeaturesOfMotif",{attrs:{motifid:t.id}}),a("SpectrasOfMotif",{attrs:{motifid:t.id}})],1)},Yt=[],Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("h5",[t._v("Features")]),t._v(" After thresholding to save the model, the total probability left in this motif is "+t._s(t.total)+". "),a("q-table",{attrs:{data:t.data,columns:t.columns,dense:"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"feature",params:{name:e.value}}}},[t._v(t._s(e.value))])],1)]}}])})],1)},te=[],ee=(a("13d5"),n["a"].extend({name:"FeaturesOfMotif",props:["motifid"],data:function(){return{columns:[{name:"name",label:"Feature",sortable:!0,field:"name"},{name:"prob",field:"prob",sortable:!0,label:"Probability"}],pagination:{sortBy:"prob",descending:!0,rowsPerPage:25}}},computed:{data:function(){var t=C.state.dataset.beta[this.motifid];return Object.entries(t).map((function(t){var e=Object(tt["a"])(t,2),a=e[0],n=e[1];return{name:a,prob:n}}))},total:function(){var t=C.state.dataset.beta[this.motifid];return Object.values(t).reduce((function(t,e){return t+e}))}}})),ae=ee,ne=Object(l["a"])(ae,Zt,te,!1,null,null,null),re=ne.exports;ne.options.components=Object.assign({QTable:c["l"],QTd:c["m"]},ne.options.components||{});var se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-mt-md"},[a("h5",[t._v("Spectras")]),a("q-table",{attrs:{data:t.data,"row-key":"name",columns:t.columns,dense:"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"spectra",params:{id:e.value}}}},[t._v(t._s(e.value))])],1)]}}])})],1)},oe=[],ie=n["a"].extend({name:"SpectrasOfMotif",props:["motifid"],data:function(){return{columns:[{name:"name",label:"Name",sortable:!0,field:"name"},{name:"prob",field:"prob",sortable:!0,label:"Probability"},{name:"overlap",field:"overlap",sortable:!0,label:"Overlap score"}],pagination:{sortBy:"prob",descending:!0,rowsPerPage:25},selected:[]}},computed:{data:function(){var t=this,e=C.state.dataset.overlap_scores;return Object.entries(C.state.dataset.theta).filter((function(e){var a=Object(tt["a"])(e,2),n=(a[0],a[1]);return n.hasOwnProperty(t.motifid)})).map((function(a){var n=Object(tt["a"])(a,2),r=n[0],s=n[1],o=e[r][t.motifid];return{name:r,prob:s[t.motifid],overlap:o}}))}}}),le=ie,ce=Object(l["a"])(le,se,oe,!1,null,null,null),ue=ce.exports;ce.options.components=Object.assign({QTable:c["l"],QTd:c["m"]},ce.options.components||{});var pe=n["a"].extend({components:{FeaturesOfMotif:re,SpectrasOfMotif:ue},computed:{id:function(){return this.$route.params.name},meta:function(){var t=this.$route.params.name;return C.state.dataset.topic_metadata[t]},beta:function(){var t=this.$route.params.name;return Object.entries(C.state.dataset.beta[t]).map((function(t){var e=Object(tt["a"])(t,2),a=e[0],n=e[1];return{feature:a,prob:n}}))}}}),me=pe,de=Object(l["a"])(me,Xt,Yt,!1,null,null,null),fe=de.exports,be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"400px"}},[a("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[a("q-input",{attrs:{type:"number",label:"Proablility threshold",step:"0.01"},model:{value:t.probability,callback:function(e){t.probability=e},expression:"probability"}}),a("q-input",{attrs:{type:"number",label:"Overlap score threshold",step:"0.01"},model:{value:t.overlap,callback:function(e){t.overlap=e},expression:"overlap"}}),a("div",[a("q-btn",{attrs:{label:"Save",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)},ve=[],he=n["a"].extend({data:function(){return{probability:.1,overlap:.2}},methods:{onSubmit:function(){},onReset:function(){this.probability=.1,this.overlap=.2}}}),ye=he,_e=Object(l["a"])(ye,be,ve,!1,null,null,null),ge=_e.exports;_e.options.components=Object.assign({QForm:c["c"],QInput:c["e"],QBtn:c["a"]},_e.options.components||{});var Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v(t._s(t.$route.params.name))])},xe=[],je={},we=Object(l["a"])(je,Oe,xe,!1,null,null,null),ke=we.exports;n["a"].use(m["a"]);var Se=[{path:"/",name:"home",component:D},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/pick",name:"pick",component:V},{path:"/spectras",name:"spectras",component:ot},{path:"/spectras/:id",name:"spectra",component:Ht},{path:"/motifs",name:"motifs",component:Vt},{path:"/motifs/:name",name:"motif",component:fe},{path:"/features/:name",name:"feature",component:ke},{path:"/settings",name:"settings",component:ge}],qe=new m["a"]({mode:"history",base:"/ms2ldaviewer/",routes:Se});qe.beforeEach((function(t,e,a){C.state.loaded?a():"pick"===t.name||"about"===t.name||"settings"===t.name?a():a("pick")}));var Pe=qe,Ee=(a("c867"),a("7d6e"),a("e54f"),a("b05d"));n["a"].use(Ee["a"],{config:{},components:{},directives:{},plugins:{}}),n["a"].config.productionTip=!1,n["a"].use(P["a"]),new n["a"]({router:Pe,render:function(t){return t(p)}}).$mount("#app")}});
//# sourceMappingURL=app.18b031b1.js.map